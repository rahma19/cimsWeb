<app-navbar [user]="user"></app-navbar>
<hr style="border: 3px solid rgb(194, 194, 45);">
<!--[ngStyle]="{backgroundImage:'url(assets/cons.jpg)'}"-->
  <div  style="background-repeat: no-repeat;background-size: cover; width: 100%; height: 800px; background-color: cornflowerblue;">
    <div class="container add">
    <div style="color:#ffffff;font-family:Open Sans,Arial, Helvetica, sans-serif;">
      <h1 style="font-weight: bold; padding: 15px;">Payer Votre Consultation!</h1>
  </div>
 
  <mat-horizontal-stepper labelPosition="bottom" #stepper>
    <mat-step [stepControl]="firstFormGroup">
     <!--<p-card>
        <h2>Information Personelles</h2>
        <br/>
      <table id="customers">
        <tr>
          <th>Nom/Prenom </th>
          <th>Service </th>
          <th>Medecin </th>
          <th> Date Rendez-vous </th>
          <th> Heure Rendez-vous </th>
          <th>Montant à payer </th>
          <th>Numéro de téléphone </th>
         
        </tr>
        <tr *ngFor="let rdvs of rdv">
          <td>{{user.nom_pren_benef}} {{user.pren_benef}}</td>
          <td>{{rdvs.service}}</td>
          <td>{{rdvs.cod_med}}</td>
          <td>{{rdvs.date_rdv}}</td>
          <td>{{rdvs.heure_rdv}}</td>
          <td>{{rdvs.montant}}</td>
          <td>{{rdvs.gsm}}</td>
          <td>  <button mat-button matStepperNext (click)="payer(rdvs)">Next</button></td>
        </tr>
       
       
        
       </table>
      </p-card>--> 

      <p-table [value]="rdv" dataKey="name">
        <ng-template pTemplate="header">
            <tr>
                <th style="width: 3rem"></th>
                <th>Name </th>
                <th>Date </th>
                <th>Heure</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rdv let-expanded="expanded">
            <tr>
                <td>
                    <button type="button" pButton pRipple [pRowToggler]="rdv" class="p-button-text p-button-rounded p-button-plain" [icon]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></button>
                </td>
                <td>{{user.nom_pren_benef}} {{user.pren_benef}}</td>
                <td>{{rdv.date_rdv}}</td>
                <td>{{rdv.heure_rdv}}</td>
                <td></td>
                <td></td>
            </tr>
        </ng-template>
        <ng-template pTemplate="rowexpansion" let-rdv>
            <tr>
                <td colspan="7">
                    <div class="p-p-3">
                        <p-table [value]="rdv" dataKey="name">
                          <ng-template pTemplate="header">
                            <tr>
                                <th>Id </th>
                                <th>Customer</th>
                                <th>Date </th>
                                <th>Amount</th>
                                <th>Status</th>
                                <th style="width: 4rem"></th>
                            </tr>
                        </ng-template>
                            <ng-template pTemplate="body" let-rdv>
                                <tr>
                                  <td>{{rdv.service}}</td>
                                  <td>{{rdv.cod_med}}</td>
                                  <td>{{rdv.montant}}</td>
                                  <td>{{rdv.gsm}}</td>
                                </tr>
                            </ng-template>
                           
                        </p-table>
                    </div>
                </td>
            </tr>
        </ng-template>
    </p-table>
    
    </mat-step>
    <mat-step [stepControl]="secondFormGroup" optional>
      <div class="container">
        <h1>Card Information</h1>
      <form novalidate (ngSubmit)="buy()" [formGroup]="stripeTest">
        <div class="col-lg-6">
        <input class="form-control" type="text" formControlName="name" placeholder="Account Holder Name"><br>
      </div>
      <div class="col-lg-6">
        <div id="card-element" class="field"></div>
      </div>
      <div class="col-lg-12">
        <button class="btn btn-success" type="submit">
          BUY
        </button>
      </div>
      </form>
      </div>
        <div>
          <button mat-button matStepperPrevious>Back</button>
          <button mat-button matStepperNext>Next</button>
        </div>
    
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>Done</ng-template>
      <p>You are now done.</p>
      <div>
        <button mat-button matStepperPrevious>Back</button>
        <button mat-button (click)="stepper.reset()">Reset</button>
      </div>
    </mat-step>
  </mat-horizontal-stepper>
   
   
 
</div>
</div>
  
<app-footer></app-footer>
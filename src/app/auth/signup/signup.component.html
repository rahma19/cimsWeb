<app-navbar></app-navbar>
<p-toast position="top-right"></p-toast>
<hr style="background-color:  #FFC909;height: 3px;">

<div style="background-repeat: no-repeat;background-size: cover;">
<div class="container add">

   <mat-tab-group class="card wizard-card" mat-stretch-tabs style="opacity: 80%;">

       <mat-tab class="mat-tab-label.mat-tab-label-active" label="Patient">
           <form #f1="ngForm"  (ngSubmit)="SubmitPat(f1)">
        <div class="  row" >
          <div class="card-header container">
          <h4 class="card-title text-dark text-center">
          INFORMATIONS DU PATIENT
          </h4>
          </div>
          <div class="card-body ">
            <div class=" col-g-5" >
                <input type="hidden" pInputText [(ngModel)]="enabled" name="cod_benef"  required >

              <div class="form-group" >
                  <div class="p-field p-col-12 p-md-4">
                      <div class="p-inputgroup">
                          <span class="p-inputgroup-addon">
                              <i class="pi pi-user"></i>
                          </span>
                          <span class="p-float-label">
                              <input type="text" id="Name" pInputText [(ngModel)]="nom_pren_benef" name="nom_pren_benef" #nme="ngModel" required>
                              <label for="Name">Nom</label>
                          </span>
                      </div>
                  </div>
                  <div *ngIf="nme.invalid && (nme.dirty || nme.touched)"
                  class="alert alert-danger">
                  <div *ngIf = "nme.errors?.required">
                    le nom est un champs obligatoire
                  </div>
                </div>
                </div>

                <div class="form-group">
                      <div class="p-field p-col-12 p-md-4">
                          <div class="p-inputgroup">
                              <span class="p-inputgroup-addon">
                                  <i class="pi pi-user"></i>
                              </span>
                              <span class="p-float-label">
                                  <input type="text" id="emp" pInputText [(ngModel)]="pren_benef" name="pren_benef" #pnc="ngModel" required>
                                  <label for="emp">Prenom</label>
                              </span>
                          </div>
                      </div>
                      <div *ngIf="pnc.invalid && (pnc.dirty || pnc.touched)"
                      class="alert alert-danger">
                      <div *ngIf = "pnc.errors?.required">
                        le prenom est un champs obligatoire
                      </div>
                    </div>
                    </div>

                      <div class="form-group" style="margin-left:25%">
                        <div class="p-field p-col-12 p-md-4">
                            <div class="p-inputgroup">
                                <span style="text-align:center" >
                                     <h3 >Sexe</h3>
                                    <p-radioButton name="sexe_benef" value="F" [(ngModel)]="sexe_benef"></p-radioButton>Femme
                                    <p-radioButton name="sexe_benef" value="M" [(ngModel)]="sexe_benef"></p-radioButton>Homme
                                </span>
                            </div>
                        </div>
                       </div>

                          <div class="form-group">
                            <div class="p-field p-col-12 p-md-4">
                               <div  class="p-inputgroup" style="width: 100%;">
                                   <span style="height:37px" class="p-inputgroup-addon">
                                       <i class="pi pi-user"></i>
                                   </span>
                                   <p-calendar [(ngModel)]="date_nai_benef" placeholder="Date de naissance" name="date_nai_benef" #dte="ngModel" required ></p-calendar>
                               </div>
                           </div>
                           <div *ngIf="dte.invalid && (dte.dirty || dte.touched)"
                           class="alert alert-danger">
                           <div *ngIf = "dte.errors?.required">
                             la date de naissance est un champs obligatoire
                           </div>
                         </div>
                            </div>

                            <div class="form-group" style="width: 100%;">
                              <div class="p-field p-col-12 p-md-4" style="width: 100%;">
                                 <div  class="p-inputgroup" style="width: 100%;">
                                  <span style="height:51px" class="p-inputgroup-addon">
                                    <i class="pi pi-user"></i>
                                </span>
                                     <mat-form-field style="width: 100%;" appearance="fill">
                                      <mat-label>Hopital</mat-label>
                                      <mat-select name="cod_hop"  [(ngModel)]="codhop"  required #hop="ngModel">
                                        <mat-option *ngFor="let hopital of hopitals" [value]="hopital.cod_hop">
                                          {{hopital.nom_hop}}
                                        </mat-option>
                                      </mat-select>
                                    </mat-form-field>
                                 </div>
                             </div>
                             <div *ngIf="hop.invalid && (hop.dirty || hop.touched)"
                             class="alert alert-danger">
                             <div *ngIf = "hop.errors?.required">
                               l'hopital est un champs obligatoire
                             </div>
                           </div>
                              </div>

            </div>
          </div>
          <div class="card-body ">
              <div class=" col-g-12 ">






                    <!--<div class="form-group">
                      <div class="p-field p-col-12 p-md-4">
                          <div class="p-inputgroup">
                              <span class="p-inputgroup-addon">
                                  <i class="pi pi-user"></i>
                              </span>
                              <span class="p-float-label">
                                  <input type="text" id="des" pInputText [(ngModel)]="pren_pere_benef" name="pren_pere_benef" #desc="ngModel" required>
                                  <label for="des">Prenom du pere</label>
                              </span>
                          </div>
                      </div>
                       <div [hidden]="!desc.errors?.required || desc.pristine"
                       class="alert alert-danger">
                       Le prenom du pere est un champ obligatoire
                       </div></div>

                       <div class="form-group">
                           <div class="p-field p-col-12 p-md-4">
                              <div class="p-inputgroup">
                                  <span class="p-inputgroup-addon">
                                      <i class="pi pi-user"></i>
                                  </span>
                                  <span class="p-float-label">
                                      <input type="text" id="ma" pInputText  [(ngModel)]="pren_mere_benef" name="pren_mere_benef" #mat="ngModel" required>
                                      <label for="ma">Prenom du mere</label>
                                  </span>
                              </div>
                          </div>
                           <div [hidden]="!mat.errors?.required || mat.pristine"
                           class="alert alert-danger">
                           Le prenom du mere est un champ obligatoire
                           </div>
                           </div>-->
                           <div class="form-group">
                            <div class="p-field p-col-12 p-md-4">
                                <div class="p-inputgroup">
                                    <span class="p-inputgroup-addon">
                                        <i class="pi pi-user"></i>
                                    </span>
                                    <span class="p-float-label">
                                        <input type="email" id="sec" pInputText [(ngModel)]="psseudo" name="email" #email="ngModel" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" required>
                                        <label for="sec">Email</label>
                                    </span>
                                </div>
                            </div>
                            <div *ngIf="email.invalid && (email.dirty || email.touched)"
                            class="alert alert-danger">
                            <div *ngIf = "email.errors?.required">
                              l'email est un champs obligatoire
                            </div>
                            <div *ngIf = "email.errors?.pattern && email.touched">
                              email invalide
                            </div>
                          </div>
                          </div>

                          <div class="form-group">
                            <div class="p-field p-col-12 p-md-4">
                                <div class="p-inputgroup">
                                    <span class="p-inputgroup-addon">
                                        <i class="pi pi-user"></i>
                                    </span>
                                    <span class="p-float-label">
                                        <input type="text" id="emp" pInputText [(ngModel)]="tel_benef" name="tel_benef" #numtel="ngModel" pattern="[0-9]{8}" required>
                                        <label for="emp">Numero de telephone</label>
                                    </span>
                                </div>
                            </div>
                            <div *ngIf="numtel.invalid && (numtel.dirty || numtel.touched)" class="alert alert-danger">
                              <div *ngIf = "numtel.errors?.pattern && numtel.touched">
                                numero de telephone invalide
                              </div>
                              <div *ngIf = "numtel.errors?.required">
                                le numero de telephone est un champs obligatoire
                              </div>
                            </div>
                          </div>

                    <p pButton pRipple label="confirmer" (click)="notify('est le code de confirmation de votre nouveau compte sur CIMS ',code)" style="width: 50%;margin-left: 25%;background-color: #FFC909;" class="text-black p-button-rounded"></p>
                   <div [hidden]="test">
                    <div class="form-group">
                      <div class="p-field p-col-12 p-md-4">
                        <h2>Merci de vérifier dans votre boite e-mails <br> que vous avez reçu un message avec votre code.
                            <br/> Celui-ci est composé de 6 chiffres.</h2>
                            <h2>Nous avons envoyé votre code à : {{psseudo}}</h2>
                      </div>
              </div>
                    <div class="form-group">
                      <div class="p-field p-col-12 p-md-4">
                          <div class="p-inputgroup">
                              <span class="p-inputgroup-addon">
                                  <i class="pi pi-user"></i>
                              </span>
                              <span class="p-float-label">
                                  <input type="text" id="se" pInputText [(ngModel)]="confemail" name="code" #ce="ngModel" required>
                                  <label for="sec"> Entrez le code</label>
                                  <br/>
                               <h4 (click)="envoiCode()" style="color:brown; "> Renvoyer le code </h4>
                              </span>
                          </div>
                      </div>
                    <div [hidden]="!ce.errors?.required || ce.pristine"
                  class="alert alert-danger">
                  Veuillez saisir le code de confirmation
                  </div>

                 <!-- <div class="form-group">
                    <div class="p-field p-col-12 p-md-4">
                        <div class="p-inputgroup">
                            <span class="p-inputgroup-addon">
                                <i class="pi pi-user"></i>
                            </span>
                            <span class="p-float-label">
                                <input type="password" id="pass" pInputText [(ngModel)]="pass" name="password" #vle="ngModel" required >
                                <label for="pass">Mot de passe</label>
                            </span>
                        </div>
                    </div>
                  <div [hidden]="!vle.errors?.required || vle.pristine"
                class="alert alert-danger">
                Le mot de passe est un champ obligatoire
                </div></div>-->
            </div>
            <div  [ngStyle]="{'float':'right','margin':'20px'}">
                <button type="submit" [disabled]="!f1.valid" style="background-color: #FFC909;color: black;"  pButton  label="Confirmer" class="ui-button-success"></button>
              </div>
              </div>


              </div>

            </div>
        </div>
      </form> </mat-tab>
     </mat-tab-group>
</div></div>
